<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>RCNN系列 · KaLyo's Notes</title><meta name="description" content="RCNN系列 - zjl"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css"><!-- fonts--><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="http://fonts.lug.ustc.edu.cn/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><input type="checkbox" id="sidebar-toggle" checked><aside><div class="author"><a href="/."><img src="/img/author.png" class="author-img"></a><h2 class="author-name">zjl</h2></div><div class="post-toc"><span class="toc-title">Directory</span><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#RCNN"><span class="toc-text">RCNN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#几点理解"><span class="toc-text">几点理解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FAST-RCNN"><span class="toc-text">FAST RCNN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#几点理解-1"><span class="toc-text">几点理解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FASTER-RCNN"><span class="toc-text">FASTER RCNN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#几点理解-2"><span class="toc-text">几点理解</span></a></li></ol></li></ol></div><div class="social"><span class="title">Social</span><ul class="links"><li class="link-item"><a href="mailto:zjialiang@zju.edu.cn"><div class="iconfont icon-email"> </div>email</a></li><li class="link-item"><a href="https://github.com/kalyo-zjl"><div class="iconfont icon-github"> </div>github</a></li><li class="link-item"><a href="http://weibo.com/3628435143/profile?topnav=1&amp;wvr=6&amp;is_all=1"><div class="iconfont icon-weibo"> </div>weibo</a></li><li class="link-item"><a href="https://www.zhihu.com/people/rangnixinyue"><div class="iconfont icon-zhihu"> </div>zhihu</a></li></ul></div></aside><div class="main"><header><div id="top"><a href="/." class="logo-link">KaLyo's Notes</a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">关于</a></li></ul></div></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">RCNN系列</h1><div class="post-time">Sep 20, 2016</div><div class="post-content"><h2 id="RCNN"><a href="#RCNN" class="headerlink" title="RCNN"></a>RCNN</h2><p><strong>Training</strong></p>
<ul>
<li>stage 1&#xFF1A;<ul>
<li>&#x6BCF;&#x5F20;&#x56FE;&#x7247;&#xFF0C;&#x7528; <strong>ss</strong> (selective search)&#x7684;&#x65B9;&#x6CD5;&#x63D0;&#x53D6;&#x51FA;&#x5927;&#x7EA6;2000&#x4E2A;proposal&#xFF0C;&#x4F5C;&#x4E3A;&#x5019;&#x9009;&#x6846;&#x3002;ss&#x7684;&#x65B9;&#x6CD5;&#x4E0D;&#x591A;&#x505A;&#x4ECB;&#x7ECD;&#xFF0C;&#x56E0;&#x4E3A;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x5728;&#x540E;&#x9762;&#x7684;faster rcnn&#x4E2D;&#x4F1A;&#x628A;&#x8FD9;&#x4E2A;&#x66FF;&#x6362;&#x6389;&#x3002;</li>
</ul>
</li>
<li>stage 2&#xFF1A;<ul>
<li>stage1&#x4E2D;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x7684;proposals&#x6709;&#x4E9B;&#x662F;&#x6B63;&#x6837;&#x672C;&#xFF0C;&#x6709;&#x4E9B;&#x662F;&#x8D1F;&#x6837;&#x672C;&#xFF0C;&#xFF08;&#x8BA1;&#x7B97;&#x8BE5;proposal&#x4E0E;gt&#x77E9;&#x5F62;&#x6846;&#x4E4B;&#x95F4;&#x7684;IoU&#xFF0C;&#x5982;&#x679C;&#x5927;&#x4E8E;&#x67D0;&#x4E2A;threshold&#x5C31;&#x5B9A;&#x4E49;&#x4E3A;&#x6B63;&#x6837;&#x672C;&#xFF0C;&#x5426;&#x5219;&#x8D1F;&#x6837;&#x672C;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x4EE5;&#x4E00;&#x5B9A;&#x6BD4;&#x4F8B;&#x9009;&#x53D6;&#x6B63;&#x8D1F;&#x6837;&#x672C;&#x3002;</li>
<li>&#x9009;&#x53D6;&#x7684;proposals&#x56E0;&#x4E3A;&#x662F;&#x7531;ss&#x65B9;&#x6CD5;&#x5F97;&#x5230;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5927;&#x5C0F;&#x4E0A;&#x662F;&#x4E0D;&#x4E00;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5148;&#x91C7;&#x7528;resize&#x6216;&#x8005;wrapper&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x6BCF;&#x4E2A;proposal&#x53D8;&#x5230;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;224X224 (&#x4E00;&#x822C;CNN&#x7F51;&#x7EDC;&#x63A5;&#x53D7;&#x7684;&#x662F;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x8F93;&#x5165;&#xFF09;&#x5C06;&#x8FD9;&#x4E9B;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;proposals&#x6254;&#x5230;CNN&#x7F51;&#x7EDC;&#x4E2D;&#x53BB;&#x8BAD;&#x7EC3;,&#x6BD4;&#x5982;VGG&#xFF0C;&#x5F97;&#x5230;&#x4E00;&#x7EC4;&#x7F51;&#x7EDC;&#x6A21;&#x578B;&#x53C2;&#x6570;&#x3002;</li>
</ul>
</li>
<li>stage 3&#xFF1A;<ul>
<li>&#x5C06;stage2&#x4E2D;&#x5F97;&#x5230;&#x7684;&#x7F51;&#x7EDC;&#x6A21;&#x578B;&#x7528;&#x4E8E;&#x8FD9;&#x4E9B;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;proposals&#x4E0A;&#xFF0C;&#xFF08;&#x53BB;&#x9664;softmax&#x8FD9;&#x5C42;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x6BCF;&#x4E2A;proposal&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;4096&#x7EF4;&#x7684;vector&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;feature extration&#x7684;&#x8FC7;&#x7A0B;&#x3002;</li>
<li>&#x5C06;&#x8FD9;&#x4E9B;emcoding&#x540E;&#x7684;vectors&#x7528;svm&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x5F97;&#x5230;&#x4E00;&#x4E2A;svm&#x5206;&#x7C7B;&#x6A21;&#x578B;&#x3002;</li>
</ul>
</li>
<li>stage 4&#xFF1A;<ul>
<li>&#x989D;&#x5916;&#x7684;&#x7CBE;&#x7EC6;&#x5316;bbox&#x4F4D;&#x7F6E;&#x7684;&#x4E00;&#x6B65;&#x3002;&#x5C31;&#x662F;&#x5728;&#x4E4B;&#x524D;&#x63D0;&#x53D6;&#x7684;&#x90A3;&#x4E9B;proposal&#x4E2D;&#xFF0C;&#x4EE5;P(x,y,w,h)&#x8868;&#x793A;&#xFF0C;&#x627E;&#x80FD;&#x591F;&#x4E0E;&#x5176;&#x76F8;&#x5339;&#x914D;&#x7684;gt&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;IoU&#x6BD4;&#x8F83;&#x5927;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E9B;pairs&#xFF08;P&#xFF0C;G&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#xFF0C;&#x5C06;P&#x56DE;&#x5F52;&#x5230;G&#x4E0A;&#xFF0C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x7684;&#x6A21;&#x578B;&#x3002;&#x5E94;&#x8BE5;&#x662F;&#x6BCF;&#x4E2A;&#x7C7B;&#x522B;&#x90FD;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x56DE;&#x5F52;&#x6A21;&#x578B;</li>
</ul>
</li>
</ul>
<p><strong>Testing</strong></p>
<ul>
<li>stage 1&#xFF1A;<ul>
<li>ss for 2000 proposals</li>
</ul>
</li>
<li>stage 2&#xFF1A;<ul>
<li>warp to each proposals to fixed size 224X224</li>
<li>forward each proposal through CNN and encoding into a fixed size vector 4096 dimension</li>
</ul>
</li>
<li>stage 3&#xFF1A;<ul>
<li>for each vector&#xFF0C;using svm model to classify&#xFF0C;and nms is also used to reject some region that overlap with others.</li>
</ul>
</li>
<li>stage 4&#xFF1A;<ul>
<li>bounding box regression</li>
</ul>
</li>
</ul>
<h3 id="&#x51E0;&#x70B9;&#x7406;&#x89E3;"><a href="#&#x51E0;&#x70B9;&#x7406;&#x89E3;" class="headerlink" title="&#x51E0;&#x70B9;&#x7406;&#x89E3;"></a>&#x51E0;&#x70B9;&#x7406;&#x89E3;</h3><ul>
<li>RCNN&#x7684;&#x6BCF;&#x4E2A;stage&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#xFF0C;&#x5404;&#x81EA;&#x7684;&#x4F5C;&#x7528;&#x4E5F;&#x90FD;&#x5F88;&#x660E;&#x786E;&#xFF0C;&#x63D0;&#x53D6;proposal&#xFF0C;proposal&#x63D0;feature&#xFF0C;feature classification&#xFF0C;proposal bbox regression&#x3002;</li>
<li>RCNN&#x975E;&#x5E38;&#x6162;&#x3002;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#xFF0C;&#x8981;&#x5C06;&#x6BCF;&#x4E2A;proposal&#x90FD;wrap&#x5230;&#x540C;&#x6837;&#x7684;size&#x540E;&#x90FD;&#x7ECF;&#x8FC7;&#x4E00;&#x6B21;CNN&#x7684;&#x7F51;&#x7EDC;&#x3002;&#x800C;&#x5B9E;&#x9645;&#x4E0A;ss&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x7684;proposal&#x6709;&#x8BB8;&#x591A;&#x7684;&#x91CD;&#x53E0;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x67D0;&#x79CD;&#x610F;&#x4E49;&#x4E0A;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x505A;&#x4E86;&#x592A;&#x591A;&#x91CD;&#x590D;&#x7684;&#x8BA1;&#x7B97;&#x3002;</li>
<li>&#x53EA;&#x7528;CNN&#x505A;feature extraction&#x800C;&#x4E0D;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x4F30;&#x8BA1;&#x53EA;&#x662F;&#x56E0;&#x4E3A;&#x53D1;&#x73B0;&#x7528;svm&#x7ED3;&#x679C;&#x66F4;&#x597D;&#x4E00;&#x70B9;&#x3002;&#x4F46;&#x662F;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;&#x5982;&#x679C;&#x53C2;&#x6570;&#x8C03;&#x8C03;&#x4EC0;&#x4E48;&#x7684;&#xFF0C;softmax&#x5E94;&#x8BE5;&#x662F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;svm&#x7684;&#x7ED3;&#x679C;&#x7684;&#x3002;</li>
</ul>
<h2 id="FAST-RCNN"><a href="#FAST-RCNN" class="headerlink" title="FAST RCNN"></a>FAST RCNN</h2><p><strong>Training</strong></p>
<ul>
<li>stage 1&#xFF1A;<ul>
<li>ss&#x63D0;&#x53D6;&#x591A;&#x4E2A;proposals</li>
</ul>
</li>
<li>stage 2&#xFF1A;<ul>
<li>&#x5C06;&#x6574;&#x5F20;&#x56FE;&#x7247;I&#xFF0C;&#x4EE5;&#x53CA;&#x63D0;&#x53D6;&#x7684;proposal&#xFF08;&#x77E9;&#x5F62;&#x6846;&#xFF09;&#x4E22;&#x5230;CNN&#x7F51;&#x7EDC;&#x4E2D;&#x8FDB;&#x884C;fine tuning&#xFF0C;&#x57FA;&#x7840;&#x7684;&#x7F51;&#x7EDC;&#x662F;&#x7528;&#x7684;VGG&#x3002;</li>
<li>&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x5177;&#x4F53;&#x7684;&#x662F;&#xFF0C;&#x524D;&#x9762;5&#x5C42;&#x90FD;&#x662F;&#x7528;&#x7684;VGG&#x7684;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#xFF0C;&#x5373;&#x5230;conv5&#x7684;feature map&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FD9;&#x4E2A;feature map&#x540E;&#x63A5;&#x4E0A;RoI pooling layer&#x3002;&#x8FD9;&#x4E2A;RoI pooling layer&#x662F;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x63D0;&#x53D6;&#x7684;proposal&#x5728;conv5&#x4E0A;&#x76F8;&#x5E94;&#x7684;map&#x4E0A;&#x505A;&#x7684;Pooling&#xFF0C;pooling&#x7684;w&#xFF0C;h&#x662F;&#x53D8;&#x5316;&#x7684;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;pooling&#x540E;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;proposal&#x5F97;&#x5230;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x8F93;&#x51FA;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x7684;&#x8F93;&#x51FA;&#x540E;&#x9762;&#x63A5;&#x4E0A;2&#x4E2A;&#x5168;&#x8FDE;&#x63A5;&#x5C42;&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x8F93;&#x51FA;bbox&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x8F93;&#x51FA;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x8FD9;&#x4E24;&#x4E2A;&#x5168;&#x8FDE;&#x63A5;&#x7684;&#x8F93;&#x51FA;&#x90FD;&#x5B9A;&#x4E49;loss&#xFF0C;&#x6574;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;loss&#x5C31;&#x662F;&#x8FD9;&#x4E24;&#x4E2A;loss&#x7684;&#x4E00;&#x4E2A;&#x52A0;&#x6743;&#x548C;&#x3002;&#x7136;&#x540E;&#x4EE5;&#x6B64;&#x8BAD;&#x7EC3;&#x66F4;&#x65B0;&#x53C2;&#x6570;&#x3002;</li>
</ul>
</li>
</ul>
<h3 id="&#x51E0;&#x70B9;&#x7406;&#x89E3;-1"><a href="#&#x51E0;&#x70B9;&#x7406;&#x89E3;-1" class="headerlink" title="&#x51E0;&#x70B9;&#x7406;&#x89E3;"></a>&#x51E0;&#x70B9;&#x7406;&#x89E3;</h3><ul>
<li>R-CNN is slow because it performs a ConvNet forward pass for each object proposal, without sharing computation.</li>
<li>fast rcnn&#x7684;region proposal&#x7684;&#x63D0;&#x53D6;&#x65B9;&#x6CD5;&#x8FD8;&#x662F;&#x4F7F;&#x7528;&#x7684;ss&#xFF0C;&#x4E0D;&#x8FC7;&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x50CF;rcnn&#x90A3;&#x6837;&#x663E;&#x5F0F;&#x7684;&#x63D0;&#x53D6;&#x51FA;&#x8FD9;&#x4E9B;proposal&#xFF0C;&#x518D;wrap&#x5230;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x6254;&#x5230;cnn&#x91CC;&#x53BB;&#x3002;fast rcnn&#x7684;&#x7F51;&#x7EDC;&#x8F93;&#x5165;&#x76F4;&#x63A5;&#x662F;&#x4EE5;&#x6574;&#x5F20;&#x56FE;&#x7247;&#x7684;&#x5F62;&#x5F0F;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;share computing&#x3002;&#x4F46;&#x662F;proposal&#x5927;&#x5C0F;&#x4E0D;&#x4E00;&#x4ECD;&#x7136;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x662F;&#x5229;&#x7528;&#x4E86;SPP net&#x91CC;&#x7684;RoI pooling&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x4E0D;&#x540C;&#x5927;&#x5C0F;&#x7684;proposal&#x901A;&#x8FC7;&#x76F8;&#x5E94;&#x7684;&#x4E0D;&#x540C;&#x5927;&#x5C0F;&#x7684;pooling&#x5C42;&#xFF0C;&#x4ECE;&#x800C;&#x5F97;&#x5230;&#x540C;&#x6837;size&#x7684;&#x8F93;&#x51FA;&#x3002;&#x800C;&#x7531;&#x4E8E;pooling&#x5C42;&#x662F;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x53C2;&#x6570;&#x8FED;&#x4EE3;&#x6C42;&#x89E3;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x3002;</li>
<li>&#x5728;fast rcnn&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x548C;rcnn&#x7684;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;&#x7528;ss&#x7684;&#x65B9;&#x6CD5;&#x63D0;&#x53D6;&#x4E86;&#x591A;&#x4E2A;proposal&#x3002;&#x4F46;&#x662F;fast rcnn&#x5C06;&#x4F59;&#x4E0B;&#x7684;&#x51E0;&#x6B65;combine&#x5230;&#x4E00;&#x8D77;&#xFF0C;&#x5F62;&#x6210;&#x4E86;&#x4E00;&#x4E2A;CNN &#x7F51;&#x7EDC;&#xFF0C;&#x5F62;&#x6210;&#x4E86;end to end&#x7684;training&#x3002;&#x5177;&#x4F53;&#x8868;&#x73B0;&#x4E3A;&#xFF0C;&#x8F93;&#x5165;&#x4E3A;&#x6574;&#x5F20;&#x56FE;&#x7247;&#xFF0C;&#x8F93;&#x51FA;&#x76F4;&#x63A5;&#x662F;bbox regression&#x540E;&#x7684;&#x76EE;&#x6807;&#x6846;&#x7684;&#x5177;&#x4F53;&#x4F4D;&#x7F6E;&#x4EE5;&#x53CA;&#x6846;&#x6240;&#x5C5E;&#x7684;&#x7C7B;&#x522B;&#x3002;</li>
</ul>
<h2 id="FASTER-RCNN"><a href="#FASTER-RCNN" class="headerlink" title="FASTER RCNN"></a>FASTER RCNN</h2><p><strong>&#x6846;&#x67B6;</strong></p>
<ul>
<li>RPN(region proposal network)<ul>
<li>&#x53D6;&#x4EE3;ss&#x653E;&#x6CD5;&#x6765;&#x751F;&#x6210;region proposals&#x3002;</li>
<li>&#x5C06;&#x56FE;&#x7247;resize&#x5230;&#x5927;&#x7EA6;600X1000&#x8FD9;&#x6837;&#x7684;&#x5C3A;&#x5EA6;&#x5927;&#x5C0F;&#x6254;&#x5230;&#x7F51;&#x7EDC;&#x4E2D;&#x3002;</li>
<li>&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x4E3A;&#xFF0C;&#x524D;5&#x5C42;&#x662F;&#x7528;VGG&#x7F51;&#x7EDC;&#x7684;&#x524D;5&#x4E2A;&#x5377;&#x79EF;&#x5C42;&#x3002;conv5&#xFF0C;feature map&#x3002;&#x518D;&#x7528;&#x4E00;&#x4E2A;3X3&#x7684;filter&#x626B;&#x8FC7;&#x8FD9;&#x4E2A;feature map&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5C06;feature map&#x4E0A;&#x7684;&#x6BCF;&#x4E2A;3X3&#x7684;&#x5757;&#xFF0C;&#x5168;&#x8FDE;&#x63A5;&#x5230;&#x4E0B;&#x4E00;&#x5C42;&#x4E0A;&#x53BB;&#xFF0C;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x5168;&#x8FDE;&#x63A5;&#x8F93;&#x51FA;&#xFF0C;&#x4E00;&#x4E2A;&#x8F93;&#x51FA;&#x4E3A;bbox&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x8F93;&#x51FA;&#x4E3A;&#x662F;&#x5426;&#x662F;&#x7269;&#x4F53;&#x7684;score&#x503C;&#xFF0C;&#x5B9A;&#x4E49;loss&#x6765;&#x5BF9;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x66F4;&#x65B0;&#x3002;</li>
</ul>
</li>
<li>FAST RCNN</li>
</ul>
<h3 id="&#x51E0;&#x70B9;&#x7406;&#x89E3;-2"><a href="#&#x51E0;&#x70B9;&#x7406;&#x89E3;-2" class="headerlink" title="&#x51E0;&#x70B9;&#x7406;&#x89E3;"></a>&#x51E0;&#x70B9;&#x7406;&#x89E3;</h3><ul>
<li>&#x7406;&#x89E3;Faster rcnn&#x6700;&#x5173;&#x952E;&#x7684;&#x5728;&#x4E8E;rpn&#x7F51;&#x7EDC;&#x3002;&#x5728;fast rcnn&#x91CC;&#xFF0C;&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x4E86;RoI pooling layer&#xFF0C;&#x4F7F;&#x5F97;&#x6574;&#x5F20;&#x56FE;&#x7247;&#x4F5C;&#x4E3A;&#x7F51;&#x7EDC;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x8017;&#x65F6;&#x7684;&#x90E8;&#x5206;&#x53D8;&#x6210;&#x4E86;ss&#x7B97;&#x6CD5;&#x63D0;&#x53D6;proposal&#x7684;&#x90E8;&#x5206;&#x3002;faster rcnn&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x52A0;&#x901F;&#x63D0;&#x53D6;proposal&#x8FC7;&#x7A0B;&#xFF0C;&#x5229;&#x7528;&#x4E00;&#x4E2A;rpn&#x7F51;&#x7EDC;&#x8FDB;&#x884C;proposal&#x7684;&#x63D0;&#x53D6;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x8BF4;faster rcnn&#x662F;&#x5C06;proposal&#x7684;&#x63D0;&#x53D6;&#x4E5F;&#x5305;&#x62EC;&#x8FDB;&#x6765;&#xFF0C;&#x5C06;&#x6574;&#x4E2A;detection&#x95EE;&#x9898;&#x53D8;&#x6210;&#x4E86;&#x4E00;&#x4E2A;end to end&#x7684;learning&#x3002;</li>
<li>Faster rcnn&#x91CC;&#x6700;&#x96BE;&#x7406;&#x89E3;&#x7684;&#x662F;rpn&#x91CC;&#x7684;anchor boxes&#x90E8;&#x5206;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;rpn&#x662F;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#x7684;&#x3002;&#x518D;&#x7EC6;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;rpn&#x662F;&#x5982;&#x4F55;&#x5BF9;&#x56FE;&#x7247;&#x7684;patch&#x53BB;&#x5B9A;&#x4E49;&#x6B63;&#x6837;&#x672C;&#x548C;&#x8D1F;&#x6837;&#x672C;&#x7684;&#xFF1F;&#x56E0;&#x4E3A;&#x6709;&#x4E86;&#x6B63;&#x8D1F;&#x6837;&#x672C;&#x624D;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#x3002;</li>
<li>anchor box&#x4EA7;&#x751F;&#x7684;&#x76EE;&#x7684;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x53BB;&#x5B9A;&#x4E49;&#x8BAD;&#x7EC3;&#x7684;&#x6B63;&#x8D1F;&#x6837;&#x672C;&#x3002;&#x5177;&#x4F53;&#x8868;&#x73B0;&#x4E3A;&#xFF0C;&#x5728;&#x4E0A;&#x9762;&#x7684;rpn&#x91CC;&#xFF0C;&#x63D0;&#x5230;&#x7528;3X3&#x7684;filter&#x8FDB;&#x884C;&#x5168;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x8F93;&#x51FA;&#x5E94;&#x8BE5;&#x662F;&#x4EC0;&#x4E48;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x7C7B;&#x522B;&#xFF1F;&#x7269;&#x4F53;&#x8FD8;&#x662F;&#x80CC;&#x666F;&#xFF1F;&#x54EA;&#x4E2A;ground truth&#x7684;bbox&#x7684;&#x4F4D;&#x7F6E;&#xFF1F;</li>
<li>&#x5728;conv5 feature map S&#x4E0A;&#xFF0C;&#x6BCF;&#x4E2A;3X3&#x7684;&#x5757;&#xFF0C;&#x8D1F;&#x8D23;&#x7684;&#x662F;&#x54EA;&#x90E8;&#x5206;&#x533A;&#x57DF;&#xFF1F;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5C06;3X3&#x7684;&#x56FE;&#x50CF;&#x5757;&#x53CD;&#x6620;&#x5C04;&#x56DE;&#x8F93;&#x5165;&#x56FE;&#x50CF;&#x5C42;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x4E2D;&#x5FC3;&#x70B9;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4EE5;&#x53CA;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x7684;&#x5927;&#x5C0F;&#x3002;&#x5728;VGG&#x4E0A;&#xFF0C;&#x8FD9;&#x4E2A;3X3&#x7684;&#x56FE;&#x50CF;&#x5757;&#x7684;receptive filed&#x5927;&#x5C0F;&#x4E3A;228X228.&#x4EE5;&#x8FD9;&#x4E2A;&#x4E2D;&#x5FC3;&#x70B9;&#x4E3A;&#x4E2D;&#x5FC3;&#xFF0C;anchor box&#x7684;&#x9762;&#x79EF;&#x5206;&#x522B;&#x4E3A;128X128&#xFF0C;256X256&#xFF0C;512x512&#xFF0C;aspect ratio&#x7684;&#x6BD4;&#x4F8B;&#x4E3A;1&#xFF1A;2&#xFF0C;1&#xFF1A;1&#xFF0C;2&#xFF1A;1&#xFF0C;&#x5171;9&#x4E2D;anchors&#x3002;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;conv5 map&#x4E0A;&#x7684;3X3&#x7684;&#x56FE;&#x50CF;&#x5757;&#x5C31;&#x8D1F;&#x8D23;&#x8FD9;9&#x4E2A;anchor boxes&#x3002;</li>
<li>&#x6BCF;&#x4E2A;anchor box&#x662F;&#x8981;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;back ground&#x8FD8;&#x662F;&#x5B9A;&#x4E49;&#x4E3A;object&#x662F;&#x8981;&#x4F9D;&#x8D56;&#x4E8E;&#x8FD9;&#x4E2A;anchor box&#x662F;&#x5426;&#x4E0E;&#x67D0;&#x4E2A;GT bbox&#x6709;&#x8F83;&#x5927;&#x7684;IoU&#x3002;&#x56E0;&#x6B64;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x6BCF;&#x4E2A;anchor&#x5E94;&#x8BE5;&#x5C5E;&#x4E8E;background&#x8FD8;&#x662F;&#x5C5E;&#x4E8E;object&#xFF0C;&#x4EE5;&#x53CA;&#x6BCF;&#x4E2A;anchor&#x9700;&#x8981;&#x56DE;&#x5F52;&#x5230;&#x54EA;&#x4E2A;gt bbox&#x4E0A;&#x53BB;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#x5728;3X3&#x7684;&#x5168;&#x8FDE;&#x63A5;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x8F93;&#x51FA;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x5305;&#x62EC;&#x662F;&#x5426;&#x662F;object&#x4EE5;&#x53CA;bbox&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;loss&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;anchor&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x80CC;&#x666F;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x5C31;&#x4E0D;&#x4F1A;&#x8BA1;&#x7B97;&#x8FD9;&#x4E2A;anchor&#x7684;bbox loss&#x3002;</li>
<li>anchor box&#x5927;&#x5C0F;&#x7684;&#x9009;&#x53D6;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x6B63;&#x8D1F;&#x6837;&#x672C;&#x7684;&#x9009;&#x53D6;&#x3002;&#x5047;&#x5982;anchor box&#x662F;512X512,&#x6BD4;&#x4F8B;&#x662F;1&#xFF1A;1&#xFF0C;&#x800C;&#x4F60;&#x7684;gt&#x7269;&#x4F53;&#x7684;&#x5927;&#x5C0F;&#x53EA;&#x6709;100X100&#x5DE6;&#x53F3;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x90A3;&#x4F60;&#x7684;IoU&#x6700;&#x5927;&#x4E5F;&#x53EA;&#x6709;0.04&#x5DE6;&#x53F3;&#xFF0C;&#x82E5;&#x662F;threshold&#x8BBE;&#x7F6E;&#x7684;&#x662F;0.7&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;gt&#x662F;&#x4E0D;&#x4F1A;&#x88AB;&#x8BAD;&#x7EC3;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x62FF;faster rcnn&#x53BB;&#x5728;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x8DD1;&#x6709;&#x65F6;&#x5019;&#x662F;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x5C0F;&#x7269;&#x4F53;&#x5F88;&#x591A;&#x7684;kitti&#x4E0A;&#xFF0C;&#x56E0;&#x4E3A;&#x5C0F;&#x7269;&#x4F53;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x88AB;&#x8BAD;&#x7EC3;&#xFF0C;&#x90A3;&#x4E48;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x81EA;&#x7136;&#x4E5F;&#x65E0;&#x6CD5;&#x68C0;&#x6D4B;&#x5C0F;&#x7269;&#x4F53;&#x3002;&#x53E6;&#x5916;&#xFF0C;conv5 feature map&#x4E0A;&#x7684;3X3&#x7684;&#x5757;&#x5BF9;&#x5E94;&#x7684;receptive field&#x662F;228X228&#xFF0C;&#x8BA9;&#x8FD9;&#x4E2A;&#x5757;&#x53BB;&#x8D1F;&#x8D23;&#x8FC7;&#x5927;&#x6216;&#x8005;&#x8FC7;&#x5C0F;&#x7684;anchor&#x540C;&#x6837;&#x4E5F;&#x662F;&#x4E0D;&#x5408;&#x9002;&#x7684;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x73B0;&#x5728;&#x7684;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;paper&#x5C31;&#x4F1A;&#x5728;&#x8FD9;&#x91CC;&#x505A;&#x6587;&#x7AE0;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x591A;&#x4E2A;feature map&#x4E0A;&#x8FDB;&#x884C;proposal&#x7684;&#x63D0;&#x53D6;&#x4F30;&#x8BA1;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6709;&#x66F4;&#x591A;&#x7684;receptive field&#xFF0C;&#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x53D8;&#x5316;&#x8303;&#x56F4;&#x66F4;&#x5927;&#x7684;&#x7269;&#x4F53;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5728;&#x591A;&#x5C42;&#x4E0A;&#x5B9A;&#x4E49;loss&#x5E26;&#x6765;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5728;&#x8BAD;&#x7EC3;&#x9636;&#x6BB5;&#x975E;&#x5E38;&#x975E;&#x5E38;&#x6162;&#x3002;</li>
</ul>
</div></article></div><div class="tags"><a href="/tags/RPN/">RPN</a></div><div class="paginator"><a href="/2016/09/19/Hexo/" class="next"><span>下一页</span><i class="fa fa-chevron-right"></i></a></div></section><section id="comments"><div data-thread-key="http://yoursite.com/2016/09/20/RCNN系列/index.html" data-title="RCNN系列" data-url="http://yoursite.com/2016/09/20/RCNN系列/index.html" class="ds-thread"></div><script type="text/javascript">var duoshuoQuery = {short_name: "kalyo-zjl" };
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></section><footer><label for="sidebar-toggle" class="sidebar-menu"><i class="fa fa-bars"></i></label><label id="back2top"> <i class="fa fa-chevron-up"></i></label><div class="copyright"><p>© 2016<span class="heart"><i class="icon-next-heart fa fa-heart"></i></span><a href="http://yoursite.com">zjl</a></p></div></footer></div></body><script src="/js/back2top.js"></script></html>