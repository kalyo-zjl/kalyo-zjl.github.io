<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Ubuntu16.04+Cuda8.0+GeForce gtx1080 · KaLyo's Notes</title><meta name="description" content="Ubuntu16.04+Cuda8.0+GeForce gtx1080 - zjl"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css"><!-- fonts--><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="http://fonts.lug.ustc.edu.cn/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><input type="checkbox" id="sidebar-toggle" checked><aside><div class="author"><a href="/."><img src="/img/author.png" class="author-img"></a><h2 class="author-name">zjl</h2></div><div class="post-toc"><span class="toc-title">Directory</span><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#设备"><span class="toc-text">设备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Ubuntu16-04"><span class="toc-text">安装Ubuntu16.04</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更新kernel-option"><span class="toc-text">更新kernel (option)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装nvidia-367"><span class="toc-text">安装nvidia-367</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关闭X-server"><span class="toc-text">关闭X server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装cuda-8-0"><span class="toc-text">安装cuda-8.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extra"><span class="toc-text">Extra</span></a></li></ol></div><div class="social"><span class="title">Social</span><ul class="links"><li class="link-item"><a href="mailto:zjialiang@zju.edu.cn"><div class="iconfont icon-email"> </div>email</a></li><li class="link-item"><a href="https://github.com/kalyo-zjl"><div class="iconfont icon-github"> </div>github</a></li><li class="link-item"><a href="http://weibo.com/3628435143/profile?topnav=1&amp;wvr=6&amp;is_all=1"><div class="iconfont icon-weibo"> </div>weibo</a></li><li class="link-item"><a href="https://www.zhihu.com/people/rangnixinyue"><div class="iconfont icon-zhihu"> </div>zhihu</a></li></ul></div></aside><div class="main"><header><div id="top"><a href="/." class="logo-link">KaLyo's Notes</a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">Archives</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">Tags</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">About</a></li></ul></div></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Ubuntu16.04+Cuda8.0+GeForce gtx1080</h1><div class="post-time">Aug 14, 2016</div><div class="post-content"><ul>
<li>&#x6765;&#x516C;&#x53F8;&#x5B9E;&#x4E60;&#xFF0C;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x5C31;&#x662F;&#x88C5;&#x670D;&#x52A1;&#x5668;&#x3002;&#x82B1;&#x4E86;&#x4E00;&#x6574;&#x5929;&#x7684;&#x65F6;&#x95F4;&#x88C5;&#x597D;&#x4E86;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668; Ubuntu14.04+Cuda7.5+K40 * 2&#x5E76;&#x914D;&#x597D;&#x4E86;&#x76F8;&#x5E94;&#x7684;&#x73AF;&#x5883;&#xFF0C;&#x5305;&#x62EC;caffe&#x7B49;&#xFF0C;&#x4E00;&#x5207;&#x90FD;&#x6BD4;&#x8F83;&#x987A;&#x5229;&#x3002;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x662F;2&#x5757;1080&#x7684;&#x663E;&#x5361;&#xFF0C;&#x4E00;&#x76F4;&#x90FD;&#x6CA1;&#x6709;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x6240;&#x4EE5;&#x6628;&#x5929;&#x53C8;&#x82B1;&#x4E86;&#x4E00;&#x5929;&#x7684;&#x65F6;&#x95F4;&#x53BB;&#x6298;&#x817E;&#x3002;</li>
</ul>
<a id="more"></a>
<p><a href="http://sachintalathi.com/?p=420" target="_blank" rel="external">Deep Learning On GTX 1080 Running On Ubuntu 16.04 With Cuda-8.0</a></p>
<h2 id="&#x8BBE;&#x5907;"><a href="#&#x8BBE;&#x5907;" class="headerlink" title="&#x8BBE;&#x5907;"></a>&#x8BBE;&#x5907;</h2><ul>
<li><p><a href="http://releases.ubuntu.com/16.04/" target="_blank" rel="external">Ubuntu16.04</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu-16.04-desktop-amd64.iso</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://developer.nvidia.com/cuda-toolkit" target="_blank" rel="external">Cuda8.0</a></p>
</li>
</ul>
<h2 id="&#x5B89;&#x88C5;Ubuntu16-04"><a href="#&#x5B89;&#x88C5;Ubuntu16-04" class="headerlink" title="&#x5B89;&#x88C5;Ubuntu16.04"></a>&#x5B89;&#x88C5;Ubuntu16.04</h2><ul>
<li>&#x6B63;&#x5E38;&#x5236;&#x4F5C;U&#x76D8;&#x542F;&#x52A8;&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x5B89;&#x88C5;&#x5C31;&#x53EF;&#x4EE5;&#x3002;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;Ubuntu&#x955C;&#x50CF;&#x597D;&#x50CF;&#x521A;&#x88C5;&#x5B8C;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x767B;&#x9646;&#x540E;&#x65E0;&#x6CD5;&#x8FDB;&#x5165;&#x754C;&#x9762;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x5177;&#x4F53;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x53EF;&#x4EE5;&#x53C2;&#x7167;&#x4E0A;&#x4E00;&#x7BC7;blog&#xFF0C;<a href="">solving login loop after installing nvidia</a></li>
<li>&#x4E5F;&#x53EF;&#x4EE5;&#x5148;&#x4E0D;&#x7528;&#x7BA1;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x76F4;&#x63A5;ctrl-alt-F1&#x8FDB;&#x5165;tty&#x754C;&#x9762;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x95EE;&#x9898;&#x7684;&#x4EA7;&#x751F;&#x662F;&#x7531;&#x4E8E;&#x663E;&#x5361;&#x9A71;&#x52A8;&#x7684;&#x7F18;&#x6545;&#xFF0C;&#x7B49;&#x88C5;&#x5B8C;&#x663E;&#x5361;&#x9A71;&#x52A8;&#x5C31;&#x80FD;&#x591F;&#x89E3;&#x51B3;&#x3002;</li>
</ul>
<h2 id="&#x66F4;&#x65B0;kernel-option"><a href="#&#x66F4;&#x65B0;kernel-option" class="headerlink" title="&#x66F4;&#x65B0;kernel (option)"></a>&#x66F4;&#x65B0;kernel (option)</h2><ul>
<li><strong>ATTENTION</strong>: &#x4E0D;&#x8981;upgrade,upgrade&#x4E4B;&#x540E;&#x4E00;&#x4E9B;&#x5E93;&#x4F1A;&#x5347;&#x7EA7;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x4E0D;&#x517C;&#x5BB9;&#x7B49;&#x95EE;&#x9898;&#x3002;&#x6BD4;&#x5982;&#x5347;&#x7EA7;&#x540E;gcc&#x7684;&#x7248;&#x672C;&#x4F1A;&#x53D8;&#x6210;5.4&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x548C;cuda8.0&#x4E0D;&#x517C;&#x5BB9;&#xFF0C;&#x518D;downgrade&#x56DE;5.3&#x7684;&#x8BDD;&#x53C8;&#x9700;&#x8981;&#x53BB;&#x6E90;&#x7801;&#x7F16;&#x8BD1;gcc-5.3&#x3002;<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x66F4;&#x65B0;kernel&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x4F30;&#x8BA1;&#x4E0D;&#x66F4;&#x65B0;&#x4E5F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4E4B;&#x524D;&#x78B0;&#x5230;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x5173;&#x4E8E;kernel&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5148;&#x66F4;&#x65B0;&#x4E86;&#x4E0B;&#xFF0C;&#x4EE5;&#x514D;&#x51FA;&#x95EE;&#x9898;&#x3002;</span></span><br><span class="line">$ uname -r              <span class="comment"># /usr/src&#x4E0B;&#x53EF;&#x4EE5;&#x67E5;&#x770B;</span></span><br><span class="line">4.4.0-21-generic</span><br><span class="line">$ sudo apt-get update   <span class="comment"># &#x5148;&#x66F4;&#x65B0;&#x4E00;&#x4E0B;&#xFF0C;&#x80FD;&#x627E;&#x5230;4.4.0-34-generic</span></span><br><span class="line">$ sudo apt-get remove linux-headers-4.4.0-21</span><br><span class="line">$ sudo apt-get remove linux-image-4.4.0-21-generic</span><br><span class="line"><span class="comment"># &#x5728;&#x505A;&#x4E0A;&#x9762;&#x4E24;&#x6B65;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8981;&#x786E;&#x4FDD;&#x7CFB;&#x7EDF;&#x63D0;&#x793A;&#x5728;&#x5220;&#x9664;4.4.0-21&#x540E;&#x4F1A;&#x5B89;&#x88C5;&#x76F8;&#x5E94;&#x7684;4.4.0-31</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="&#x5B89;&#x88C5;nvidia-367"><a href="#&#x5B89;&#x88C5;nvidia-367" class="headerlink" title="&#x5B89;&#x88C5;nvidia-367"></a>&#x5B89;&#x88C5;nvidia-367</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x5220;&#x9664;&#x5DF2;&#x6709;&#x7684;nvidia&#x9A71;&#x52A8;</span></span><br><span class="line">$ dpkg <span class="_">-l</span> | grep cuda</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x7ED3;&#x679C;&#x53C8;&#x5176;&#x4ED6;&#x9A71;&#x52A8;&#x5C31;&#x5148;remove</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x9A71;&#x52A8;&#x6E90;</span></span><br><span class="line">$ sudo add-apt-repository ppa:graphics-drivers/ppa</span><br><span class="line">$ sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B89;&#x88C5;nvidia-367</span></span><br><span class="line">$ sudo apt-get install nvidia-367</span><br></pre></td></tr></table></figure>
<h2 id="&#x5173;&#x95ED;X-server"><a href="#&#x5173;&#x95ED;X-server" class="headerlink" title="&#x5173;&#x95ED;X server"></a>&#x5173;&#x95ED;X server</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /etc/init.d/lightdm stop</span><br></pre></td></tr></table></figure>
<h2 id="&#x5B89;&#x88C5;cuda-8-0"><a href="#&#x5B89;&#x88C5;cuda-8-0" class="headerlink" title="&#x5B89;&#x88C5;cuda-8.0"></a>&#x5B89;&#x88C5;cuda-8.0</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ./cuda_8.0.27_linux.run</span><br><span class="line"><span class="comment"># &#x5728;&#x95EE;&#x4F60;&#x662F;&#x5426;&#x5B89;&#x88C5;nvidia&#x9A71;&#x52A8;361&#x7684;&#x65F6;&#x5019;&#x9009;&#x62E9;no</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B89;&#x88C5;&#x5B8C;&#x540E;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x4E0B;&#x9762;&#x7684;&#x9519;&#x8BEF;</span></span><br><span class="line">Missing recommended library: libGLU.so</span><br><span class="line">Missing recommended library: libXi.so</span><br><span class="line">Missing recommended library: libXmu.so</span><br><span class="line"><span class="comment"># &#x88C5;&#x76F8;&#x5E94;&#x7684;&#x5E93;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x53EF;&#x80FD;&#x4E0D;&#x5168;&#xFF0C;&#x81EA;&#x5DF1;google&#x627E;</span></span><br><span class="line">$ sudo apt-get install libglu1-mesa libxi-dev libxmu-dev libglu1-mesa-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x91CD;&#x65B0;&#x5B89;&#x88C5;cuda&#xFF0C;&#x5982;&#x679C;&#x663E;&#x793A;driver not selected&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x4E24;&#x4E2A;&#x90FD;installed&#xFF0C;&#x90A3;&#x4E48;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x4E86;&#x3002;&#x6D4B;&#x8BD5;&#x663E;&#x5361;&#x9A71;&#x52A8;</span></span><br><span class="line"></span><br><span class="line">$ nvidia-smi</span><br><span class="line">NVIDIA-SMI has failed because it couldn<span class="string">&apos;t communicate with the NVIDIA driver. Make sure that the latest NVIDIA driver is installed and running.</span><br><span class="line"></span><br><span class="line"># &#x5982;&#x679C;&#x62A5;&#x4E86;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x7684;&#x8BDD;&#xFF0C;&#x901A;&#x8FC7;&#x5B89;&#x88C5;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x5305;&#x89E3;&#x51B3;</span><br><span class="line">$ sudo apt-get install xorg-server-source</span><br><span class="line">$ sudo nvidia-xconfig</span></span><br></pre></td></tr></table></figure>
<h2 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h2><ul>
<li><p>&#x4E0A;&#x4E00;&#x6B65;&#x88C5;cuda&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4E00;&#x76F4;&#x4EE5;&#x4E3A;driver not selected&#x662F;&#x4E0D;&#x5BF9;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5728;&#x88C5;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x53C8;&#x753B;&#x86C7;&#x6DFB;&#x8DB3;&#x7684;&#x5728;&#x5B89;&#x88C5;nvidia-361&#x90A3;&#x4E00;&#x6B65;&#x9009;&#x62E9;&#x4E86;yes&#xFF0C;&#x4E0D;&#x8FC7;&#x7167;&#x6837;3&#x6B65;&#x90FD;&#x663E;&#x793A;installed&#x3002;&#x53EA;&#x662F;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bbswitch: No suitable _DSM call found</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x91CD;&#x542F;&#x540E;&#x76F4;&#x63A5;&#x8FDE;&#x767B;&#x9646;&#x7684;&#x754C;&#x9762;&#x90FD;&#x4E0D;&#x51FA;&#x73B0;&#xFF0C;&#x53EA;&#x597D;&#x91CD;&#x88C5;&#x4E86;&#x3002;&#x67E5;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x6CA1;&#x627E;&#x5230;&#x660E;&#x786E;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x53EA;&#x662F;&#x8BF4;&#x6709;&#x53EF;&#x80FD;&#x662F;kernel&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x4E0A;&#x9762;&#x624D;&#x6709;&#x4E86;&#x7B2C;&#x4E00;&#x6B65;&#x5148;&#x66F4;&#x65B0;&#x4E86;&#x4E00;&#x4E0B;kernel&#x3002;&#x4E0D;&#x8FC7;&#x73B0;&#x5728;&#x770B;&#x6765;&#x53EF;&#x80FD;&#x662F;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x3002;</p>
</li>
<li><p>&#x5982;&#x679C;&#x4E0D;&#x88C5;nvidia-367&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x88C5;cuda&#x81EA;&#x5E26;&#x7684;361&#xFF0C;&#x4F1A;failed&#xFF0C;&#x62A5;&#x7684;&#x9519;&#x8BEF;&#x662F;cannot locate kernel source&#x4E4B;&#x7C7B;&#x7684;&#x3002;&#x6709;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x80FD;&#x6210;&#x529F;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nvidia-current</span><br></pre></td></tr></table></figure>
</li>
</ul>
</div></article></div><div class="tags"><a href="/tags/Ubuntu16-04-Cuda8-0/">Ubuntu16.04 Cuda8.0</a></div><div class="paginator"><a href="/2016/08/14/solving-login-loop-after-installing-nvidia/" class="next"><span>Next</span><i class="fa fa-chevron-right"></i></a></div></section><section id="comments"><div data-thread-key="http://yoursite.com/2016/08/14/Ubuntu16-04-Cuda8-0-GeForce-gtx1080/index.html" data-title="Ubuntu16.04+Cuda8.0+GeForce gtx1080" data-url="http://yoursite.com/2016/08/14/Ubuntu16-04-Cuda8-0-GeForce-gtx1080/index.html" class="ds-thread"></div><script type="text/javascript">var duoshuoQuery = {short_name: "kalyo-zjl" };
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></section><footer><label for="sidebar-toggle" class="sidebar-menu"><i class="fa fa-bars"></i></label><label id="back2top"> <i class="fa fa-chevron-up"></i></label><div class="copyright"><p>© 2016<span class="heart"><i class="icon-next-heart fa fa-heart"></i></span><a href="http://yoursite.com">zjl</a></p></div></footer></div></body><script src="/js/back2top.js"></script></html>